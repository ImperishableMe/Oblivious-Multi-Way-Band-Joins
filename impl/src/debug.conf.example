# Debug Configuration File for OMWJ (Oblivious Multi-Way Join)
# 
# This file controls all debug output and behavior.
# Copy to debug.conf and modify as needed.
#
# Environment variables can override these settings:
#   OMWJ_DEBUG_LEVEL   - Set debug level (NONE, ERROR, WARN, INFO, DEBUG, TRACE)
#   OMWJ_DEBUG_OUTPUT  - Set output mode (CONSOLE, FILE, BOTH)
#   OMWJ_DEBUG_TABLES  - Enable/disable table dumps (0, 1)

[global]
# Overall debug level: NONE, ERROR, WARN, INFO, DEBUG, TRACE
level = INFO

# Output destination: CONSOLE, FILE, BOTH
output = FILE

[phases]
# Enable/disable debugging for specific phases
bottom_up = true
top_down = true
distribute = true
alignment = true
oblivious_sort = false
comparators = false
window_ops = false
encryption = false

[tables]
# Master switch for table dumping
enabled = true

# Output format: CSV, JSON, BINARY
format = CSV

# Maximum rows to dump (0 = unlimited)
max_rows = 1000

# Show encrypted status in dumps
show_encrypted = false

# Control which stages dump tables
stages.inputs = true
stages.after_sort = true
stages.after_cumsum = true
stages.after_interval = true
stages.after_pairwise = false
stages.after_truncate = true
stages.after_expand = false
stages.outputs = true

[performance]
# Enable performance tracking
enabled = true

# Track timing for each phase
per_phase = true

# Track individual operations (more overhead)
per_operation = false

# Track memory usage
memory_usage = false

# Track enclave transitions (ecall/ocall overhead)
enclave_transitions = false

[session]
# Automatically start/end debug sessions
auto_session = true

# Add timestamps to output filenames
timestamp_files = true

# Create subdirectories for each session
create_subdirs = true

# Prefix for session names
session_prefix = debug

# Base directory for debug output
output_dir = ./debug

# ============================================================================
# Preset Configurations
# ============================================================================

# Minimal configuration for production
# [production]
# Copy these settings to the sections above for production use:
# level = ERROR
# output = FILE
# phases.* = false
# tables.enabled = false
# performance.enabled = false

# Full debugging for development
# [development]
# Copy these settings to the sections above for development:
# level = DEBUG
# output = BOTH
# phases.* = true
# tables.enabled = true
# tables.stages.* = true
# performance.enabled = true
# performance.per_phase = true

# Performance profiling only
# [profiling]
# Copy these settings to the sections above for profiling:
# level = WARN
# output = FILE
# phases.* = false
# tables.enabled = false
# performance.enabled = true
# performance.per_phase = true
# performance.per_operation = true
# performance.memory_usage = true